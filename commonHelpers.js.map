{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export function getPhoto(value) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const params = '&image_type=photo&orientation=horizontal&safesearch=true';\n  const END_POINT = 'key=43022470-1213c485ef19c9845e2639418';\n  const url = `${BASE_URL}${END_POINT}&q=${value}${params}`;\n  return fetch(url).then(res => res.json());\n}\n","function imageTemplate({\n  webformatURL,\n  tags,\n  views,\n  likes,\n  comments,\n  downloads,\n  largeImageURL,\n}) {\n  return `<li class=\"image-item\">\n  <a class=\"image-link\" href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" width =\"300\" height=\"200\" ></a>\n  <div class=\"tex-container\">\n  <p class=\"image-text\">Likes <span class=\"span-text\">${likes}</span></p>\n  <p class=\"image-text\">Views <span class=\"span-text\">${views}</span></p>\n  <p class=\"image-text\">Comments <span class=\"span-text\">${comments}</span></p>\n  <p class=\"image-text\">Downloads <span class=\"span-text\">${downloads}</span></p>\n  </div>\n</li>`;\n}\nexport function imageTemplates(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\nexport function loader() {\n  return `<span class=\"loader\">Loading</span>`;\n}\n\nexport function error() {\n  return `<span class=\"error\">ERROR</span>`;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhoto } from './js/pixabay-api';\nimport { imageTemplates } from './js/render-function';\nimport { loader } from './js/render-function';\nimport { error } from './js/render-function';\n//========================================================\nconst imageList = document.querySelector('.image-list');\nconst form = document.querySelector('.form-search');\nform.addEventListener('submit', handlerSubmit);\n//========================================================\nfunction handlerSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.target.elements.search.value.trim(2, 0);\n\n  if (!inputValue) return;\n\n  imageList.innerHTML = '';\n  const submitTime = Date.now();\n\n  imageList.insertAdjacentHTML('afterbegin', loader());\n\n  getPhoto(inputValue)\n    .then(data => {\n      const waitingTime = Date.now() - submitTime;\n      setTimeout(() => {\n        if (!data.hits.length) {\n          imageList.innerHTML = '';\n          iziToast.show({\n            position: 'topRight',\n            color: 'red',\n            messageColor: 'black',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n          const markup = imageTemplates(data.hits);\n          imageList.innerHTML = markup;\n          const lightbox = new SimpleLightbox('.image-link', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          lightbox.refresh();\n        }\n      }, waitingTime);\n    })\n    .catch(() => {\n      imageList.insertAdjacentHTML('afterbegin', error());\n    });\n\n  event.target.reset();\n}\n"],"names":["getPhoto","value","url","res","imageTemplate","webformatURL","tags","views","likes","comments","downloads","largeImageURL","imageTemplates","arr","loader","error","imageList","form","handlerSubmit","event","inputValue","submitTime","data","waitingTime","iziToast","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAI9B,MAAMC,EAAM,qEAA6BD,CAAK,2DAC9C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCNA,SAASC,EAAc,CACrB,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACF,EAAG,CACD,MAAO;AAAA,gCACuBA,CAAa;AAAA,cAC/BN,CAAY,UAAUC,CAAI;AAAA;AAAA,wDAEgBE,CAAK;AAAA,wDACLD,CAAK;AAAA,2DACFE,CAAQ;AAAA,4DACPC,CAAS;AAAA;AAAA,MAGrE,CACO,SAASE,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASU,GAAS,CACvB,MAAO,qCACT,CAEO,SAASC,GAAQ,CACtB,MAAO,kCACT,CChBA,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,OAAO,MAAM,KAAK,EAAG,CAAC,EAE/D,GAAI,CAACC,EAAY,OAEjBJ,EAAU,UAAY,GACtB,MAAMK,EAAa,KAAK,MAExBL,EAAU,mBAAmB,aAAcF,EAAQ,CAAA,EAEnDd,EAASoB,CAAU,EAChB,KAAKE,GAAQ,CACZ,MAAMC,EAAc,KAAK,IAAG,EAAKF,EACjC,WAAW,IAAM,CACf,GAAI,CAACC,EAAK,KAAK,OACbN,EAAU,UAAY,GACtBQ,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,aAAc,QACd,QACE,0EACd,CAAW,MACI,CACL,MAAMC,EAASb,EAAeU,EAAK,IAAI,EACvCN,EAAU,UAAYS,EACL,IAAIC,EAAe,cAAe,CACjD,aAAc,MACd,aAAc,GAC1B,CAAW,EACQ,QAAO,CACjB,CACF,EAAEH,CAAW,CACpB,CAAK,EACA,MAAM,IAAM,CACXP,EAAU,mBAAmB,aAAcD,EAAO,CAAA,CACxD,CAAK,EAEHI,EAAM,OAAO,OACf"}